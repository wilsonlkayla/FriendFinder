<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Vacation Finder</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp"
        crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
     <script src="https://code.jquery.com/jquery.js"></script>
     <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</head>
<body>
    <div class="container">
       <h1>Survey</h1>
      <h2><strong>About You</strong></h2>
      <h3> Name (Required) </h3>
      <input type="text" name="" class="form-control" requred>
      <section id="vacation-form"></section>
      <section class="form-group"></section>
      <h2><strong>Question 1</strong></h2>
      <h3> I enjoy hidden gems. </h3>
     <select data-placeholder= "" class="chosen-select" id="Ques2">
         <option value=""></option>
         <option value="1"> 1 (Strongly Disagree)</option>
         <option value="2"> 2</option>
         <option value="3"> 3</option>
         <option value="4"> 4</option>
         <option value="5 ">5 (Strongly Agree) </option>
    </select>

    <h2><strong>Question 2</strong></h2>
    <h3> I do things out sheer curiosity. </h3>
   <select data-placeholder= "" class="chosen-select" id="Ques2">
       <option value=""></option>
       <option value="1" 1 (Strongly Disagree) ></option>
       <option value="2"> 2</option>
       <option value="3"> 3</option>
       <option value="4"> 4</option>
       <option value="5 ">5 (Strongly Agree) </option>
  </select>

  <h2><strong>Question 3</strong></h2>
  <h3>  I prefer staying in on the weekend. </h3>
 <select data-placeholder= "" class="chosen-select" id="Ques3">
     <option value=""></option>
     <option value="1" 1 (Strongly Disagree) ></option>
     <option value="2"> 2</option>
     <option value="3"> 3</option>
     <option value="4"> 4</option>
     <option value="5 ">5 (Strongly Agree) </option>
</select>

<h2><strong>Question 4</strong></h2>
<h3> I prefer bright colors over neutrals. </h3>
<select data-placeholder= "" class="chosen-select" id="Ques4">
   <option value=""></option>
   <option value="1" 1 (Strongly Disagree) ></option>
   <option value="2"> 2</option>
   <option value="3"> 3</option>
   <option value="4"> 4</option>
   <option value="5 ">5 (Strongly Agree) </option>
</select>

<h2><strong>Question 5</strong></h2>
<h3> I enjoy cold weather. </h3>
<select data-placeholder= "" class="chosen-select" id="Ques5">
   <option value=""></option>
   <option value="1" 1 (Strongly Disagree) ></option>
   <option value="2"> 2</option>
   <option value="3"> 3</option>
   <option value="4"> 4</option>
   <option value="5 ">5 (Strongly Agree) </option>
</select>

<h2><strong>Question 6</strong></h2>
<h3> I consider myself to be spontaneous. </h3>
<select data-placeholder= "" class="chosen-select" id="Ques6">
   <option value=""></option>
   <option value="1" 1 (Strongly Disagree) ></option>
   <option value="2"> 2</option>
   <option value="3"> 3</option>
   <option value="4"> 4</option>
   <option value="5 ">5 (Strongly Agree) </option>
</select>

<h2><strong>Question 7</strong></h2>
<h3> I enjoy nature. </h3>
<select data-placeholder= "" class="chosen-select" id="Ques7">
   <option value=""></option>
   <option value="1" 1 (Strongly Disagree) ></option>
   <option value="2"> 2</option>
   <option value="3"> 3</option>
   <option value="4"> 4</option>
   <option value="5 ">5 (Strongly Agree) </option>
</select>

<h2><strong>Question 8</strong></h2>
<h3> I like to think outside the box. </h3>
<select data-placeholder= "" class="chosen-select" id="Ques8">
   <option value=""></option>
   <option value="1" 1 (Strongly Disagree) ></option>
   <option value="2"> 2</option>
   <option value="3"> 3</option>
   <option value="4"> 4</option>
   <option value="5 ">5 (Strongly Agree) </option>
</select>

<h2><strong>Question 9</strong></h2>
<h3> I enjoy working under pressure. </h3>
<select data-placeholder= "" class="chosen-select" id="Ques9">
   <option value=""></option>
   <option value="1" 1 (Strongly Disagree) ></option>
   <option value="2"> 2</option>
   <option value="3"> 3</option>
   <option value="4"> 4</option>
   <option value="5 ">5 (Strongly Agree) </option>
</select>

<h2><strong>Question 10</strong></h2>
<h3> I am very emotional when making decisions. </h3>
<select data-placeholder= "" class="chosen-select" id="Ques10">
   <option value=""></option>
   <option value="1" 1 (Strongly Disagree) ></option>
   <option value="2"> 2</option>
   <option value="3"> 3</option>
   <option value="4"> 4</option>
   <option value="5 ">5 (Strongly Agree) </option>
</select>

<br>
<br>
<br>


 
<footer class="footer">
    <p>
    <a href="/api/vacation">API Vacation List</a> | <a href="">GitHub Repo</a>
    </p>
</footer>     

</div>
</section>
</section>
<!-- Insert Modals -->

<div class="modal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title"></h4>
            </div>
            <div class="modal-body text-center">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<button type="submit" class="btn btn-danger btn-lg btn-block" id="submit">Submit</button>
<br>
    <!-- <a href="/">
    <button type="button" class="btn btn-primary">
        Return Home
    </button>
</a> -->
<hr>
<footer class="footer">
    <p>
        <a href="/api/vacation">API Vacations List</a> | <a href="">GitHub Repo</a>
    </p>
</footer>
</div>
<script type="text/javascript">
// Listener for submit button click
$('#submit').on('click', function(event) {
    // prevents the default submit button action
event.preventDefault();
// Set local variables
var matchStatus = $('.modal-title');
var modalBody = $('.modal-body');
// set responses to local variables
var name = $('#name').val().trim();
var photo = $('#photo').val();
var item1 = parseInt($('#Ques1').val());
var item2 = parseInt($('#Ques2').val());
var item3 = parseInt($('#Ques3').val());
var item4 = parseInt($('#Ques4').val());
var item5 = parseInt($('#Ques5').val());
var item6 = parseInt($('#Ques6').val());
var item7 = parseInt($('#Ques7').val());
var item8 = parseInt($('#Ques8').val());
var item9 = parseInt($('#Ques9').val());
var item10 = parseInt($('#Ques10').val());
// Set data to be sent to server
var userData = {
    name: name,
    photo: photo,
    scores: [
        item1,
        item2,
        item3,
        item4,
        item5,
        item6,
        item7,
        item8,
        item9,
        item10
    ]
};
// If responses are valid...
if (
    (name !== '') && (photo !== '') && (!isNaN(item1)) &&
    (!isNaN(item2)) && (!isNaN(item3)) && (!isNaN(item4)) &&
    (!isNaN(item5)) && (!isNaN(item6)) && (!isNaN(item7)) &&
    (!isNaN(item8)) && (!isNaN(item9)) && (!isNaN(item10))
) {
    // Grab the URL of the website
    var currentURL = window.location.origin;
    // AJAX post the data to the friends API. 
    $.post(currentURL + "/api/vacation", userData, function(data) {
            // If the data has a match, then show this
        if (data.name !== undefined) {
            matchStatus.html('Your match...');
            modalBody.html('<p>...is ' + data.name + '!</p><img src="' + data.photo + '" height="200">');
        } else {
            // If no match, show this
            matchStatus.html('Not enough data!');
            modalBody.html('<p>Unfortunately there is not yet enough user data to match you</p>');
        }
        // Toggle modal on
        $('.modal').modal('toggle');
    });
} else {
        // If the form was not valid, this error is shown
    matchStatus.html('Error...');
    modalBody.html('Please answer all questions on the form.');
    // Toggle modal on
    $('.modal').modal('toggle');
}
});
$('#vacation-form').reset();
</script>

</body>
</html>